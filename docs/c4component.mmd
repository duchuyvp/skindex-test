flowchart TB
    %% Title
    title["Container Diagram for Chat Service API"]

    %% Define styles
    classDef person fill:#ffdddd,stroke:#333,stroke-width:2px;
    classDef database fill:#ddeeff,stroke:#333,stroke-width:2px,stroke-dasharray: 5;
    classDef container fill:#ddffdd,stroke:#333,stroke-width:2px;
    classDef boundary stroke:#999,stroke-width:2px,stroke-dasharray: 3;

    %% Define elements
    user["User\n\nA user of the chat service"]:::person
    database["Database\n\nPostgreSQL\nStores chat data"]:::database

    subgraph Application_Boundary["Application"]
        fe_app["Front End Component\n\nFront End Page\nProvides chat interface"]:::container

        subgraph API_Application["API Application"]
            core["Core Library\n\nCore Lib\nContains structs and functions"]:::container
            adapter["Adapter Component\n\nAdapter Component\nComponent could be easily replaced"]:::container
            domain["Domain Component\n\nDomain Component\nContains Domain models"]:::container
            service["Service Component\n\nService Component\nHandles service logic"]:::container
            entrypoint["Entrypoint Component\n\nEntrypoint Component\nProvides entrypoint for the application"]:::container
        end
    end

    %% Define relationships
    user -->|Browser| fe_app
    fe_app -->|HTTP & WebSockets| entrypoint
    entrypoint -->|Function Call| service
    service -->|Function Call| domain
    domain -->|Function Call| adapter
    domain -->|Function Call| core
    adapter -->|SQL| database

    %% Link styles
    linkStyle 0 stroke:#333,stroke-width:2px;
    linkStyle 1 stroke:#0066cc,stroke-width:2px;
    linkStyle 2 stroke:#ffcc00,stroke-width:2px;
    linkStyle 3 stroke:#ffcc00,stroke-width:2px;
    linkStyle 4 stroke:#ffcc00,stroke-width:2px;
    linkStyle 5 stroke:#ffcc00,stroke-width:2px;
    linkStyle 6 stroke:#339933,stroke-width:2px;
